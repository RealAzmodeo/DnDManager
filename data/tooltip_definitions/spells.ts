// data/tooltip_definitions/spells.ts
import { StructuredTooltipData } from '../../types';

export const spellsTooltips: Record<string, StructuredTooltipData> = {
  // Existing Cleric Spells
  "Guidance": {
    name: "Guidance",
    category: "Spell",
    level: "Cantrip",
    school: "Divination",
    castingTime: "1 Action",
    range: "Touch",
    components: ["V", "S"],
    duration: "Concentration, up to 1 minute",
    summary: "Touch one willing creature. Once before the spell ends, the target can roll a d4 and add the number rolled to one ability check of its choice. The spell then ends.",
    effects: ["Target adds 1d4 to one ability check."],
    tags: ["Cantrip", "Utility", "Buff", "Concentration"],
    source: "Player's Handbook"
  },
  "Sacred Flame": {
    name: "Sacred Flame",
    category: "Spell",
    level: "Cantrip",
    school: "Evocation",
    castingTime: "1 Action",
    range: "60 feet",
    components: ["V", "S"],
    duration: "Instantaneous",
    summary: "Flame-like radiance descends on a creature you can see within range. The target must succeed on a Dexterity saving throw or take radiant damage. The target gains no benefit from cover for this saving throw.",
    damage: [{ dice: "1d8", type: "Radiant", notes: "Increases to 2d8 at L5, 3d8 at L11, 4d8 at L17." }],
    saveInfo: { attribute: "Dexterity", effectOnSuccess: "No damage.", effectOnFailure: "Takes damage." },
    rules: ["Ignores cover."],
    tags: ["Cantrip", "Damage", "Radiant Damage", "Saving Throw"],
    source: "Player's Handbook"
  },
  "Healing Word": {
    name: "Healing Word",
    category: "Spell",
    level: 1,
    school: "Evocation",
    castingTime: "1 Bonus Action",
    range: "60 feet",
    components: ["V"],
    duration: "Instantaneous",
    summary: "A creature of your choice that you can see within range regains hit points equal to 1d4 + your spellcasting ability modifier. This spell has no effect on undead or constructs.",
    healing: "1d4 + Spellcasting Ability Modifier",
    rules: ["Increases healing by 1d4 for each slot level above 1st."],
    tags: ["Healing", "Bonus Action"],
    source: "Player's Handbook"
  },
  "Bless": {
    name: "Bless",
    category: "Spell",
    level: 1,
    school: "Enchantment",
    castingTime: "1 Action",
    range: "30 feet",
    components: ["V", "S", "M (a sprinkle of holy water)"],
    duration: "Concentration, up to 1 minute",
    summary: "You bless up to three creatures of your choice within range. Whenever a target makes an attack roll or a saving throw before the spell ends, the target can roll a d4 and add the number rolled to the attack roll or saving throw.",
    effects: ["Targets add 1d4 to attack rolls and saving throws."],
    rules: ["Affects up to 3 creatures. Can target more creatures with higher-level slots (+1 creature per slot level above 1st)."],
    tags: ["Buff", "Attack Bonus", "Saving Throw Bonus", "Concentration"],
    source: "Player's Handbook"
  },
  "Shield of Faith": {
    name: "Shield of Faith",
    category: "Spell",
    level: 1,
    school: "Abjuration",
    castingTime: "1 Bonus Action",
    range: "60 feet",
    components: ["V", "S", "M (a small parchment with a holy text written on it)"],
    duration: "Concentration, up to 10 minutes",
    summary: "A shimmering field appears and surrounds a creature of your choice within range, granting it a +2 bonus to AC for the duration.",
    effects: ["Target gains +2 bonus to AC."],
    numericalValue: "+2 AC",
    tags: ["Defense", "AC Bonus", "Buff", "Concentration", "Bonus Action"],
    source: "Player's Handbook"
  },
  "Spiritual Weapon": {
    name: "Spiritual Weapon",
    category: "Spell",
    level: 2,
    school: "Evocation",
    castingTime: "1 Bonus Action",
    range: "60 feet",
    components: ["V", "S"],
    duration: "1 minute",
    summary: "You create a floating, spectral weapon within range that lasts for the duration or until you cast this spell again. When you cast the spell, you can make a melee spell attack against a creature within 5 feet of the weapon. On a hit, the target takes force damage equal to 1d8 + your spellcasting ability modifier. As a bonus action on your turn, you can move the weapon up to 20 feet and repeat the attack against a creature within 5 feet of it.",
    damage: [{ dice: "1d8 + Spellcasting Ability Modifier", type: "Force" }],
    rules: ["Damage increases by 1d8 for every two slot levels above 2nd (e.g. 2d8 at 4th, 3d8 at 6th).", "Bonus action to move and attack."],
    tags: ["Damage", "Bonus Action", "Force Damage", "Summoning (Minor)"],
    source: "Player's Handbook"
  },
  "Spirit Guardians": {
    name: "Spirit Guardians",
    category: "Spell",
    level: 3,
    school: "Conjuration",
    castingTime: "1 Action",
    range: "Self (15-foot radius)",
    area: "15-foot radius sphere centered on you",
    components: ["V", "S", "M (a holy symbol)"],
    duration: "Concentration, up to 10 minutes",
    summary: "You call forth spirits to protect you. They flit around you to a distance of 15 feet for the duration. If you are good or neutral, their spectral form appears angelic or fey (your choice). If you are evil, they appear fiendish. When you cast this spell, you can designate any number of creatures you can see to be unaffected by it. An affected creature’s speed is halved in the area, and when the creature enters the area for the first time on a turn or starts its turn there, it must make a Wisdom saving throw. On a failed save, the creature takes 3d8 radiant damage (if you are good or neutral) or 3d8 necrotic damage (if you are evil). On a successful save, the creature takes half as much damage.",
    damage: [{ dice: "3d8", type: "Radiant or Necrotic (caster's choice based on alignment)", notes: "half on save" }],
    saveInfo: { attribute: "Wisdom", effectOnSuccess: "Half damage.", effectOnFailure: "Full damage and speed halved in area." },
    effects: ["Affected creature's speed is halved in the area."],
    rules: ["Damage increases by 1d8 for each slot level above 3rd."],
    tags: ["Damage", "AoE", "Control", "Radiant Damage", "Necrotic Damage", "Concentration", "Difficult Terrain (Effectively)"],
    source: "Player's Handbook"
  },
  "Revivify": {
    name: "Revivify",
    category: "Spell",
    level: 3,
    school: "Necromancy",
    castingTime: "1 Action",
    range: "Touch",
    components: ["V", "S", "M (diamonds worth 300 gp, which the spell consumes)"],
    duration: "Instantaneous",
    summary: "You touch a creature that has died within the last minute. That creature returns to life with 1 hit point. This spell can’t return to life a creature that has died of old age, nor can it restore any missing body parts.",
    healing: "Returns creature to life with 1 HP.",
    rules: ["Target must have died within the last minute.", "Consumes 300gp of diamonds."],
    tags: ["Healing", "Resurrection", "Costly Component"],
    source: "Player's Handbook"
  },
  // Existing Wizard Spells
  "Mage Armor": {
    name: "Mage Armor",
    category: "Spell",
    level: 1,
    school: "Abjuration",
    castingTime: "1 Action",
    range: "Touch",
    components: ["V", "S", "M (a piece of cured leather)"],
    duration: "8 hours",
    summary: "You touch a willing creature who isn’t wearing armor, and a protective magical force surrounds it until the spell ends. The target’s base AC becomes 13 + its Dexterity modifier. The spell ends if the target dons armor or if you dismiss the spell as an action.",
    effects: ["Target's AC becomes 13 + Dexterity modifier if unarmored."],
    tags: ["Defense", "AC Bonus", "Buff"],
    source: "Player's Handbook"
  },
  "Shield (spell)": {
    name: "Shield",
    category: "Spell",
    level: 1,
    school: "Abjuration",
    castingTime: "1 Reaction (which you take when you are hit by an attack or targeted by the magic missile spell)",
    range: "Self",
    components: ["V", "S"],
    duration: "1 round",
    summary: "An invisible barrier of magical force appears and protects you. Until the start of your next turn, you have a +5 bonus to AC, including against the triggering attack, and you take no damage from magic missile.",
    effects: ["+5 bonus to AC.", "Immunity to Magic Missile damage."],
    numericalValue: "+5 AC",
    tags: ["Defense", "AC Bonus", "Reaction", "Negate Damage"],
    source: "Player's Handbook"
  },
  "Fireball": {
    name: "Fireball",
    category: "Spell",
    level: 3,
    school: "Evocation",
    castingTime: "1 Action",
    range: "150 feet",
    area: "20-foot-radius sphere",
    components: ["V", "S", "M (a tiny ball of bat guano and sulfur)"],
    duration: "Instantaneous",
    summary: "A bright streak flashes from your pointing finger to a point you choose within range and then blossoms with a low roar into an explosion of flame. Each creature in a 20-foot-radius sphere centered on that point must make a Dexterity saving throw. A target takes 8d6 fire damage on a failed save, or half as much damage on a successful one. The fire spreads around corners. It ignites flammable objects in the area that aren’t being worn or carried.",
    damage: [{ dice: "8d6", type: "Fire", notes: "half on save" }],
    saveInfo: { attribute: "Dexterity", effectOnSuccess: "Half damage.", effectOnFailure: "Full damage." },
    rules: ["Damage increases by 1d6 for each slot level above 3rd."],
    tags: ["Damage", "AoE", "Fire Damage", "Saving Throw"],
    source: "Player's Handbook"
  },
  "Magic Missile": {
    name: "Magic Missile",
    category: "Spell",
    level: 1,
    school: "Evocation",
    castingTime: "1 Action",
    range: "120 feet",
    components: ["V", "S"],
    duration: "Instantaneous",
    summary: "You create three glowing darts of magical force. Each dart hits a creature of your choice that you can see within range. A dart deals 1d4 + 1 force damage to its target. The darts all strike simultaneously, and you can direct them to hit one creature or several.",
    damage: [{ dice: "1d4+1", type: "Force", notes: "per dart" }],
    effects: ["Creates 3 darts automatically hitting targets."],
    rules: ["Creates one additional dart for each slot level above 1st."],
    tags: ["Damage", "Force Damage", "Auto-Hit"],
    source: "Player's Handbook"
  },
  "Counterspell": {
    name: "Counterspell",
    category: "Spell",
    level: 3,
    school: "Abjuration",
    castingTime: "1 Reaction (which you take when you see a creature within 60 feet of you casting a spell)",
    range: "60 feet",
    components: ["S"],
    duration: "Instantaneous",
    summary: "You attempt to interrupt a creature in the process of casting a spell. If the creature is casting a spell of 3rd level or lower, its spell fails and has no effect. If it is casting a spell of 4th level or higher, make an ability check using your spellcasting ability. The DC equals 10 + the spell’s level. On a success, the creature’s spell fails and has no effect.",
    effects: ["Interrupts and negates a spell.", "Automatic success for spells of 3rd level or lower.", "Requires spellcasting ability check (DC 10 + target spell's level) for higher level spells."],
    rules: ["When cast using a spell slot of 4th level or higher, the interrupted spell has no effect if its level is less than or equal to the level of the spell slot you used."],
    tags: ["Control", "Reaction", "Negate Spell"],
    source: "Player's Handbook"
  },
  "Polymorph": {
    name: "Polymorph",
    category: "Spell",
    level: 4,
    school: "Transmutation",
    castingTime: "1 Action",
    range: "60 feet",
    components: ["V", "S", "M (a caterpillar cocoon)"],
    duration: "Concentration, up to 1 hour",
    summary: "This spell transforms a creature that you can see within range into a new form. An unwilling creature must make a Wisdom saving throw to avoid the effect. The transformation lasts for the duration, or until the target drops to 0 hit points or dies. The new form can be any beast whose challenge rating is equal to or less than the target’s (or the target’s level, if it doesn’t have a challenge rating). The target’s game statistics, including mental ability scores, are replaced by the statistics of the chosen beast. It retains its alignment and personality.",
    saveInfo: { attribute: "Wisdom", effectOnFailure: "Transformed into chosen beast.", effectOnSuccess: "No effect." },
    effects: ["Transforms target into a beast CR <= target's level/CR.", "Replaces target's game statistics with beast's stats.", "Target retains alignment and personality."],
    rules: ["Ends if target drops to 0 HP or dies.", "Target assumes HP of new form; reverts to original HP when spell ends, applying excess damage.", "Cannot cast spells in beast form."],
    tags: ["Control", "Utility", "Transformation", "Concentration"],
    source: "Player's Handbook"
  },
  "Find Familiar": {
    name: "Find Familiar",
    category: "Spell",
    level: 1,
    school: "Conjuration",
    castingTime: "1 hour (Ritual)",
    range: "10 feet",
    components: ["V", "S", "M (10 gp worth of charcoal, incense, and herbs that must be consumed by fire in a brass brazier)"],
    duration: "Instantaneous (Familiar lasts until dismissed or dies)",
    summary: "You gain the service of a familiar, a spirit that takes an animal form you choose: bat, cat, crab, frog (toad), hawk, lizard, octopus, owl, poisonous snake, fish (quipper), rat, raven, sea horse, spider, or weasel. Appearing in an unoccupied space within range, the familiar has the statistics of the chosen form, though it is a celestial, fey, or fiend (your choice) instead of a beast.",
    effects: ["Summons a familiar with special abilities (e.g., telepathic link, deliver touch spells, use its senses)."],
    tags: ["Summoning", "Utility", "Ritual", "Costly Component (minor)"],
    source: "Player's Handbook"
  },
  "Misty Step": {
    name: "Misty Step",
    category: "Spell",
    level: 2,
    school: "Conjuration",
    castingTime: "1 Bonus Action",
    range: "Self",
    components: ["V"],
    duration: "Instantaneous",
    summary: "Briefly surrounded by silvery mist, you teleport up to 30 feet to an unoccupied space that you can see.",
    effects: ["Teleport self up to 30 feet."],
    tags: ["Teleportation", "Bonus Action", "Movement"],
    source: "Player's Handbook"
  },
   "Haste": {
    name: "Haste",
    category: "Spell",
    level: 3,
    school: "Transmutation",
    castingTime: "1 Action",
    range: "30 feet",
    components: ["V", "S", "M (a shaving of licorice root)"],
    duration: "Concentration, up to 1 minute",
    summary: "Choose a willing creature you can see within range. Until the spell ends, the target’s speed is doubled, it gains a +2 bonus to AC, it has advantage on Dexterity saving throws, and it gains an additional action on each of its turns. That action can be used only to take the Attack (one weapon attack only), Dash, Disengage, Hide, or Use an Object action. When the spell ends, the target can’t move or take actions until after its next turn, as a wave of lethargy sweeps over it.",
    effects: ["Target's speed doubled.", "+2 bonus to AC.", "Advantage on Dexterity saving throws.", "Gains an additional limited action."],
    tags: ["Buff", "Action Economy", "Movement", "Concentration", "Debuff (on ending)"],
    source: "Player's Handbook"
  },
  "Dimension Door": {
    name: "Dimension Door",
    category: "Spell",
    level: 4,
    school: "Conjuration",
    castingTime: "1 Action",
    range: "500 feet",
    components: ["V"],
    duration: "Instantaneous",
    summary: "You teleport yourself from your current location to any other spot within range. You arrive at exactly the spot desired. It can be a place you can see, one you can visualize, or one you can describe by stating distance and direction, such as “200 feet straight downward” or “upward to the northwest at a 45-degree angle, 300 feet.” You can bring along objects as long as their weight doesn’t exceed what you can carry. You can also bring one willing creature of your size or smaller who is carrying gear up to its carrying capacity. The creature must be within 5 feet of you when you cast this spell.",
    effects: ["Teleport self and one willing creature up to 500 feet."],
    tags: ["Teleportation", "Movement", "Utility"],
    source: "Player's Handbook"
  },
  // Existing Paladin Spells
   "Hunter's Mark": {
    name: "Hunter's Mark",
    category: "Spell",
    level: 1,
    school: "Divination",
    castingTime: "1 Bonus Action",
    range: "90 feet",
    components: ["V"],
    duration: "Concentration, up to 1 hour",
    summary: "You choose a creature you can see within range and mystically mark it as your quarry. Until the spell ends, you deal an extra 1d6 damage to the target whenever you hit it with a weapon attack, and you have advantage on any Wisdom (Perception) or Wisdom (Survival) check you make to find it. If the target drops to 0 hit points before this spell ends, you can use a bonus action on a subsequent turn of yours to mark a new creature.",
    damage: [{ dice: "1d6", type: "Same as weapon", notes: "extra damage on weapon attacks against marked target" }],
    effects: ["Advantage on Perception/Survival checks to find target."],
    rules: ["Can move mark to new target as bonus action if original target drops to 0 HP.", "Damage does not increase with higher level slots, but duration does (e.g., 8 hours at 3rd/4th, 24 hours at 5th+)."],
    tags: ["Damage Bonus", "Tracking", "Bonus Action", "Concentration"],
    source: "Player's Handbook (Ranger/some Paladin Oaths)"
  },
   "Divine Favor": {
    name: "Divine Favor",
    category: "Spell",
    level: 1,
    school: "Evocation",
    castingTime: "1 Bonus Action",
    range: "Self",
    components: ["V", "S"],
    duration: "Concentration, up to 1 minute",
    summary: "Your prayer empowers you with divine radiance. Until the spell ends, your weapon attacks deal an extra 1d4 radiant damage on a hit.",
    damage: [{ dice: "1d4", type: "Radiant", notes: "extra damage on weapon attacks" }],
    tags: ["Damage Bonus", "Radiant Damage", "Bonus Action", "Concentration", "Self Buff"],
    source: "Player's Handbook (Paladin)"
  },

  // --- NEW SPELLS START HERE ---

  // New Cleric Spells
  "Light (spell)": {
    name: "Light",
    category: "Spell",
    level: "Cantrip",
    school: "Evocation",
    castingTime: "1 Action",
    range: "Touch",
    components: ["V", "M (a firefly or phosphorescent moss)"],
    duration: "1 hour",
    summary: "You touch one object that is no larger than 10 feet in any dimension. Until the spell ends, the object sheds bright light in a 20-foot radius and dim light for an additional 20 feet. The light can be colored as you like. Completely covering the object with something opaque blocks the light. The spell ends if you cast it again or dismiss it as an action.",
    effects: ["Object sheds bright light (20ft) and dim light (20ft)."],
    tags: ["Cantrip", "Utility", "Light"],
    source: "Player's Handbook"
  },
  "Thaumaturgy": {
    name: "Thaumaturgy",
    category: "Spell",
    level: "Cantrip",
    school: "Transmutation",
    castingTime: "1 Action",
    range: "30 feet",
    components: ["V"],
    duration: "Up to 1 minute",
    summary: "You manifest a minor wonder, a sign of supernatural power, within range. You create one of the following magical effects within range: Your voice booms up to three times as loud as normal for 1 minute. You cause flames to flicker, brighten, dim, or change color for 1 minute. You cause harmless tremors in the ground for 1 minute. You create an instantaneous sound that originates from a point of your choice within range, such as a rumble of thunder, the cry of a raven, or ominous whispers. You instantaneously cause an unlocked door or window to fly open or slam shut. You alter the appearance of your eyes for 1 minute. If you cast this spell multiple times, you can have up to three of its 1-minute effects active at a time, and you can dismiss such an effect as an action.",
    effects: ["Various minor magical effects (booming voice, flickering flames, tremors, sounds, eye alteration, door/window manipulation)."],
    tags: ["Cantrip", "Utility", "Flavor"],
    source: "Player's Handbook"
  },
  "Cure Wounds": {
    name: "Cure Wounds",
    category: "Spell",
    level: 1,
    school: "Evocation",
    castingTime: "1 Action",
    range: "Touch",
    components: ["V", "S"],
    duration: "Instantaneous",
    summary: "A creature you touch regains a number of hit points equal to 1d8 + your spellcasting ability modifier. This spell has no effect on undead or constructs.",
    healing: "1d8 + Spellcasting Ability Modifier",
    rules: ["Increases healing by 1d8 for each slot level above 1st."],
    tags: ["Healing"],
    source: "Player's Handbook"
  },
  "Lesser Restoration": {
    name: "Lesser Restoration",
    category: "Spell",
    level: 2,
    school: "Abjuration",
    castingTime: "1 Action",
    range: "Touch",
    components: ["V", "S"],
    duration: "Instantaneous",
    summary: "You touch a creature and can end either one disease or one condition afflicting it. The condition can be blinded, deafened, paralyzed, or poisoned.",
    effects: ["Ends one disease or one condition (blinded, deafened, paralyzed, or poisoned)."],
    tags: ["Healing", "Condition Removal", "Utility"],
    source: "Player's Handbook"
  },
  "Beacon of Hope": {
    name: "Beacon of Hope",
    category: "Spell",
    level: 3,
    school: "Abjuration",
    castingTime: "1 Action",
    range: "30 feet",
    components: ["V", "S"],
    duration: "Concentration, up to 1 minute",
    summary: "This spell bestows hope and vitality. Choose any number of creatures within range. For the duration, each target has advantage on Wisdom saving throws and death saving throws, and regains the maximum number of hit points possible from any healing.",
    effects: ["Targets gain advantage on Wisdom saves and death saves.", "Targets regain maximum HP from healing."],
    tags: ["Buff", "Healing Enhancement", "Defense (Saves)", "Concentration"],
    source: "Player's Handbook"
  },
  "Death Ward": {
    name: "Death Ward",
    category: "Spell",
    level: 4,
    school: "Abjuration",
    castingTime: "1 Action",
    range: "Touch",
    components: ["V", "S"],
    duration: "8 hours",
    summary: "You touch a creature and grant it a measure of protection from death. The first time the target would drop to 0 hit points as a result of taking damage, the target instead drops to 1 hit point, and the spell ends. If the spell is still in effect when the target is subjected to an effect that would kill it instantaneously without dealing damage, that effect is instead negated against the target, and the spell ends.",
    effects: ["If target drops to 0 HP, drops to 1 HP instead (once).", "Negates one instant death effect (once)."],
    tags: ["Defense", "Death Prevention", "Buff"],
    source: "Player's Handbook"
  },
  "Guardian of Faith": {
    name: "Guardian of Faith",
    category: "Spell",
    level: 4,
    school: "Conjuration",
    castingTime: "1 Action",
    range: "30 feet",
    components: ["V"],
    duration: "8 hours",
    summary: "A Large spectral guardian appears and hovers for the duration in an unoccupied space of your choice that you can see within range. The guardian occupies that space and is indistinct except for a gleaming sword and shield emblazoned with a symbol of your deity. Any creature hostile to you that moves to a space within 10 feet of the guardian for the first time on a turn must succeed on a Dexterity saving throw. The creature takes 20 radiant damage on a failed save, or half as much damage on a successful one. The guardian vanishes when it has dealt a total of 60 damage.",
    damage: [{ dice: "20", type: "Radiant", notes: "half on save. Guardian vanishes after 60 total damage." }],
    saveInfo: { attribute: "Dexterity", effectOnSuccess: "Half damage.", effectOnFailure: "Full damage." },
    rules: ["Guardian vanishes after dealing 60 total damage."],
    tags: ["Damage", "Control", "Radiant Damage", "Summoning (Minor)"],
    source: "Player's Handbook"
  },
  "Commune": {
    name: "Commune",
    category: "Spell",
    level: 5,
    school: "Divination",
    castingTime: "1 minute (Ritual)",
    range: "Self",
    components: ["V", "S", "M (incense and a vial of holy or unholy water)"],
    duration: "1 minute",
    summary: "You contact your deity or a divine proxy and ask up to three questions that can be answered with a yes or no. You must ask your questions before the spell ends. You receive a correct answer for each question. Divine beings aren’t necessarily omniscient, so you might receive “unclear” as an answer if a question pertains to information beyond the deity’s knowledge. In a case where a one-word answer would be misleading or contrary to the deity’s interests, the DM might offer a short phrase as an answer instead.",
    effects: ["Ask deity/proxy three yes/no questions."],
    tags: ["Divination", "Utility", "Information Gathering", "Ritual", "Deity Interaction"],
    source: "Player's Handbook"
  },
  "Heal": {
    name: "Heal",
    category: "Spell",
    level: 6,
    school: "Evocation",
    castingTime: "1 Action",
    range: "60 feet",
    components: ["V", "S"],
    duration: "Instantaneous",
    summary: "Choose a creature that you can see within range. A wave of healing energy washes over it. The target regains 70 hit points. This spell also ends blindness, deafness, and any diseases affecting the target.",
    healing: "70 HP",
    effects: ["Ends blindness, deafness, and any diseases on target."],
    tags: ["Healing", "Condition Removal"],
    source: "Player's Handbook"
  },
  "Harm": {
    name: "Harm",
    category: "Spell",
    level: 6,
    school: "Necromancy",
    castingTime: "1 Action",
    range: "60 feet",
    components: ["V", "S"],
    duration: "Instantaneous",
    summary: "You unleash a virulent disease on a creature that you can see within range. The target must make a Constitution saving throw. On a failed save, it takes 14d6 necrotic damage, or half as much damage on a successful save. The damage can’t reduce the target’s hit points below 1. If the target fails the saving throw, its hit point maximum is reduced for 1 hour by an amount equal to the necrotic damage it took. Any effect that removes a disease allows a creature’s hit point maximum to return to normal before that time passes.",
    damage: [{ dice: "14d6", type: "Necrotic", notes: "half on save, can't reduce HP below 1" }],
    saveInfo: { attribute: "Constitution", effectOnSuccess: "Half damage.", effectOnFailure: "Full damage and HP maximum reduced by damage taken for 1 hour." },
    effects: ["Reduces target's HP maximum on failed save."],
    tags: ["Damage", "Necrotic Damage", "Debuff", "Saving Throw"],
    source: "Player's Handbook"
  },
  "Planar Ally": {
    name: "Planar Ally",
    category: "Spell",
    level: 6,
    school: "Conjuration",
    castingTime: "10 minutes",
    range: "60 feet",
    components: ["V", "S"],
    duration: "Instantaneous",
    summary: "You beseech an otherworldly entity for aid. The creature is not obligated to assist, and may require payment or a quest in return. The DM chooses the entity and determines its behavior.",
    effects: ["Summons a celestial, elemental, or fiend to provide aid, at DM's discretion. May require payment or service."],
    tags: ["Summoning", "Utility", "Deity Interaction", "Negotiation"],
    source: "Player's Handbook"
  },
  "Resurrection": {
    name: "Resurrection",
    category: "Spell",
    level: 7,
    school: "Necromancy",
    castingTime: "1 hour",
    range: "Touch",
    components: ["V", "S", "M (a diamond worth at least 1,000 gp, which the spell consumes)"],
    duration: "Instantaneous",
    summary: "You touch a dead creature that has been dead for no more than a century, that didn’t die of old age, and that isn’t undead. If its soul is free and willing, the target returns to life with all its hit points. This spell neutralizes any poisons and cures normal diseases afflicting the creature when it died. It doesn’t, however, remove magical diseases, curses, or similar effects; if these aren’t first removed prior to casting the spell, they afflict the target on its return to life. The spell closes all mortal wounds and restores any missing body parts. Coming back from the dead is an ordeal. The target takes a -4 penalty to all attack rolls, saving throws, and ability checks. Every time the target finishes a long rest, the penalty is reduced by 1 until it disappears.",
    healing: "Returns creature to life with full HP.",
    effects: ["Neutralizes poisons and normal diseases.", "Closes wounds and restores missing body parts.", "Target suffers -4 penalty to rolls, reducing by 1 per long rest."],
    rules: ["Target dead no more than 100 years, not of old age, not undead.", "Consumes 1000gp diamond."],
    tags: ["Healing", "Resurrection", "Costly Component", "Debuff (temporary)"],
    source: "Player's Handbook"
  },
  "Mass Heal": {
    name: "Mass Heal",
    category: "Spell",
    level: 9,
    school: "Evocation",
    castingTime: "1 Action",
    range: "60 feet",
    components: ["V", "S"],
    duration: "Instantaneous",
    summary: "A flood of healing energy flows from you into injured creatures around you. You restore up to 700 hit points, divided as you choose among any number of creatures that you can see within range. Creatures healed by this spell are also cured of all diseases and any effect making them blinded or deafened.",
    healing: "Up to 700 HP, divided among creatures.",
    effects: ["Cures all diseases, blindness, and deafness on healed creatures."],
    tags: ["Healing", "AoE", "Condition Removal"],
    source: "Player's Handbook"
  },
  "True Resurrection": {
    name: "True Resurrection",
    category: "Spell",
    level: 9,
    school: "Necromancy",
    castingTime: "1 hour",
    range: "Touch",
    components: ["V", "S", "M (diamonds worth at least 25,000 gp, which the spell consumes)"],
    duration: "Instantaneous",
    summary: "You touch a creature that has been dead for no longer than 200 years and that died for any reason except old age. If the creature’s soul is free and willing, the creature is restored to life with all its hit points. This spell closes all wounds, neutralizes any poison, cures all diseases, and lifts any curses affecting the creature when it died. The spell replaces damaged or missing organs and limbs. The spell can even provide a new body if the original no longer exists, in which case you must speak the creature’s name. The creature then appears in an unoccupied space you choose within 10 feet of you.",
    healing: "Returns creature to life with full HP.",
    effects: ["Closes wounds, neutralizes poisons, cures diseases, lifts curses.", "Replaces missing organs/limbs.", "Can create new body."],
    rules: ["Target dead no more than 200 years, not of old age.", "Consumes 25,000gp of diamonds."],
    tags: ["Healing", "Resurrection", "Costly Component"],
    source: "Player's Handbook"
  },

  // New Wizard Spells
  "Ray of Frost": {
    name: "Ray of Frost",
    category: "Spell",
    level: "Cantrip",
    school: "Evocation",
    castingTime: "1 Action",
    range: "60 feet",
    components: ["V", "S"],
    duration: "Instantaneous",
    summary: "A frigid beam of blue-white light streaks toward a creature within range. Make a ranged spell attack against the target. On a hit, it takes 1d8 cold damage, and its speed is reduced by 10 feet until the start of your next turn.",
    damage: [{ dice: "1d8", type: "Cold", notes: "Increases to 2d8 at L5, 3d8 at L11, 4d8 at L17." }],
    effects: ["Reduces target's speed by 10 feet on hit."],
    tags: ["Cantrip", "Damage", "Cold Damage", "Control", "Attack Roll"],
    source: "Player's Handbook"
  },
  "Prestidigitation": {
    name: "Prestidigitation",
    category: "Spell",
    level: "Cantrip",
    school: "Transmutation",
    castingTime: "1 Action",
    range: "10 feet",
    components: ["V", "S"],
    duration: "Up to 1 hour",
    summary: "This spell is a minor magical trick that novice spellcasters use for practice. You create one of the following magical effects within range: You create an instantaneous, harmless sensory effect. You instantaneously light or snuff out a candle, a torch, or a small campfire. You instantaneously clean or soil an object no larger than 1 cubic foot. You chill, warm, or flavor up to 1 cubic foot of nonliving material for 1 hour. You make a color, a small mark, or a symbol appear on an object or a surface for 1 hour. You create a nonmagical trinket or an illusory image that can fit in your hand and that lasts until the end of your next turn. If you cast this spell multiple times, you can have up to three of its non-instantaneous effects active at a time, and you can dismiss such an effect as an action.",
    effects: ["Various minor sensory/utility effects."],
    tags: ["Cantrip", "Utility", "Flavor"],
    source: "Player's Handbook"
  },
  "Minor Illusion": {
    name: "Minor Illusion",
    category: "Spell",
    level: "Cantrip",
    school: "Illusion",
    castingTime: "1 Action",
    range: "30 feet",
    components: ["S", "M (a bit of fleece)"],
    duration: "1 minute",
    summary: "You create a sound or an image of an object within range that lasts for the duration. The illusion also ends if you dismiss it as an action or cast this spell again. If you create a sound, its volume can range from a whisper to a scream. If you create an image of an object, it must be no larger than a 5-foot cube and cannot create sound, light, smell, or other sensory effects. Physical interaction with the image reveals it to be an illusion, because things can pass through it.",
    effects: ["Creates a sound or a small static image."],
    rules: ["Investigation check (DC = your spell save DC) to discern illusion."],
    tags: ["Cantrip", "Illusion", "Utility"],
    source: "Player's Handbook"
  },
  "Mage Hand": {
    name: "Mage Hand",
    category: "Spell",
    level: "Cantrip",
    school: "Conjuration",
    castingTime: "1 Action",
    range: "30 feet",
    components: ["V", "S"],
    duration: "1 minute",
    summary: "A spectral, floating hand appears at a point you choose within range. The hand lasts for the duration or until you dismiss it as an action. The hand vanishes if it is ever more than 30 feet away from you or if you cast this spell again. You can use your action to control the hand. You can use the hand to manipulate an object, open an unlocked door or container, stow or retrieve an item from an open container, or pour the contents out of a vial. You can move the hand up to 30 feet each time you use it. The hand can’t attack, activate magical items, or carry more than 10 pounds.",
    effects: ["Creates a spectral hand to manipulate objects."],
    tags: ["Cantrip", "Utility", "Conjuration"],
    source: "Player's Handbook"
  },
  "Absorb Elements": {
    name: "Absorb Elements",
    category: "Spell",
    level: 1,
    school: "Abjuration",
    castingTime: "1 Reaction (which you take when you take acid, cold, fire, lightning, or thunder damage)",
    range: "Self",
    components: ["S"],
    duration: "1 round",
    summary: "The spell captures some of the incoming energy, lessening its effect on you and storing it for your next melee attack. You have resistance to the triggering damage type until the start of your next turn. Also, the first time you hit with a melee attack on your next turn, the target takes an extra 1d6 damage of the triggering type, and the spell ends.",
    effects: ["Gain resistance to triggering elemental damage type.", "Next melee attack deals extra 1d6 damage of that type."],
    rules: ["Damage increases by 1d6 for each slot level above 1st for the extra damage on attack."],
    tags: ["Defense", "Reaction", "Damage Bonus", "Resistance"],
    source: "Xanathar's Guide to Everything / Tasha's Cauldron of Everything"
  },
  "Identify": {
    name: "Identify",
    category: "Spell",
    level: 1,
    school: "Divination",
    castingTime: "1 minute (Ritual)",
    range: "Touch",
    components: ["V", "S", "M (a pearl worth at least 100 gp and an owl feather)"],
    duration: "Instantaneous",
    summary: "You choose one object that you must touch throughout the casting of the spell. If it is a magic item or some other magic-imbued object, you learn its properties and how to use them, whether it requires attunement to use, and how many charges it has, if any. You learn whether any spells are affecting the item and what they are. If the item was created by a spell, you learn which spell created it.",
    effects: ["Reveals properties of a magic item."],
    tags: ["Utility", "Divination", "Ritual", "Costly Component (non-consumable typically)"],
    source: "Player's Handbook"
  },
  "Sleep": {
    name: "Sleep",
    category: "Spell",
    level: 1,
    school: "Enchantment",
    castingTime: "1 Action",
    range: "90 feet",
    area: "Creatures within 20 feet of a point you choose within range",
    components: ["V", "S", "M (a pinch of fine sand, rose petals, or a cricket)"],
    duration: "1 minute",
    summary: "This spell sends creatures into a magical slumber. Roll 5d8; the total is how many hit points of creatures this spell can affect. Creatures within 20 feet of a point you choose within range are affected in ascending order of their current hit points (ignoring unconscious creatures). Starting with the creature that has the lowest current hit points, each creature affected by this spell falls unconscious until the spell ends, the sleeper takes damage, or someone uses an action to shake or slap the sleeper awake. Subtract each creature’s hit points from the total before moving on to the creature with the next lowest hit points. A creature’s hit points must be equal to or less than the remaining total for that creature to be affected.",
    effects: ["Puts creatures to sleep based on HP total (5d8)."],
    rules: ["Undead and creatures immune to being charmed aren’t affected.", "Increases HP affected by 2d8 for each slot level above 1st."],
    conditionsApplied: ["Unconscious"],
    tags: ["Control", "AoE", "Non-Damaging"],
    source: "Player's Handbook"
  },
  "Thunderwave": {
    name: "Thunderwave",
    category: "Spell",
    level: 1,
    school: "Evocation",
    castingTime: "1 Action",
    range: "Self (15-foot cube)",
    area: "15-foot cube originating from you",
    components: ["V", "S"],
    duration: "Instantaneous",
    summary: "A wave of thunderous force sweeps out from you. Each creature in a 15-foot cube originating from you must make a Constitution saving throw. On a failed save, a creature takes 2d8 thunder damage and is pushed 10 feet away from you. On a successful save, the creature takes half as much damage and isn’t pushed. In addition, unsecured objects that are completely within the area of effect are automatically pushed 10 feet away from you by the spell’s effect, and the spell emits a thunderous boom audible out to 300 feet.",
    damage: [{ dice: "2d8", type: "Thunder", notes: "half on save" }],
    saveInfo: { attribute: "Constitution", effectOnSuccess: "Half damage, not pushed.", effectOnFailure: "Full damage and pushed 10 feet." },
    effects: ["Pushes creatures 10 feet on failed save."],
    rules: ["Damage increases by 1d8 for each slot level above 1st."],
    tags: ["Damage", "AoE", "Thunder Damage", "Forced Movement", "Control"],
    source: "Player's Handbook"
  },
  "Web": {
    name: "Web",
    category: "Spell",
    level: 2,
    school: "Conjuration",
    castingTime: "1 Action",
    range: "60 feet",
    area: "20-foot cube",
    components: ["V", "S", "M (a bit of spiderweb)"],
    duration: "Concentration, up to 1 hour",
    summary: "You conjure a mass of thick, sticky webbing at a point of your choice within range. The webs fill a 20-foot cube from that point for the duration. The webs are difficult terrain and lightly obscure their area. If the webs aren’t anchored between two solid masses or layered across a floor, wall, or ceiling, the conjured web collapses on itself, and the spell ends at the start of your next turn. Webs layered over a flat surface have a depth of 5 feet. Each creature that starts its turn in the webs or that enters them during its turn must make a Dexterity saving throw. On a failed save, the creature is restrained as long as it remains in the webs or until it breaks free. A creature restrained by the webs can use its action to make a Strength check against your spell save DC. If it succeeds, it is no longer restrained. The webs are flammable. Any 5-foot cube of webs exposed to fire burns away in 1 round, dealing 2d4 fire damage to any creature that starts its turn in the fire.",
    saveInfo: { attribute: "Dexterity", effectOnFailure: "Restrained." },
    effects: ["Creates difficult terrain.", "Can restrain creatures (Strength check to escape)."],
    conditionsApplied: ["Restrained"],
    tags: ["Control", "AoE", "Difficult Terrain", "Concentration", "Flammable"],
    source: "Player's Handbook"
  },
  "Mirror Image": {
    name: "Mirror Image",
    category: "Spell",
    level: 2,
    school: "Illusion",
    castingTime: "1 Action",
    range: "Self",
    components: ["V", "S"],
    duration: "1 minute",
    summary: "Three illusory duplicates of yourself appear in your space. Until the spell ends, the duplicates move with you and mimic your actions, shifting position so it’s impossible to track which image is real. You can use your action to dismiss the illusory duplicates. Each time a creature targets you with an attack during the spell’s duration, roll a d20 to determine whether the attack instead targets one of your duplicates. If you have three duplicates, you must roll a 6 or higher to change the attack’s target to a duplicate. With two duplicates, you need an 8 or higher. With one duplicate, you need an 11 or higher. A duplicate’s AC equals 10 + your Dexterity modifier. If an attack hits a duplicate, the duplicate is destroyed. A duplicate can be destroyed only by an attack that hits it. It ignores all other damage and effects. The spell ends when all three duplicates are destroyed.",
    effects: ["Creates 3 illusory duplicates that can take hits for you."],
    tags: ["Defense", "Illusion", "Self Buff"],
    source: "Player's Handbook"
  },
  "Hypnotic Pattern": {
    name: "Hypnotic Pattern",
    category: "Spell",
    level: 3,
    school: "Illusion",
    castingTime: "1 Action",
    range: "120 feet",
    area: "30-foot cube",
    components: ["S", "M (a glowing stick of incense or a crystal vial filled with phosphorescent material)"],
    duration: "Concentration, up to 1 minute",
    summary: "You create a twisting pattern of colors that weaves through the air inside a 30-foot cube within range. The pattern appears for a moment and vanishes. Each creature in the area who sees the pattern must make a Wisdom saving throw. On a failed save, the creature becomes charmed for the duration. While charmed by this spell, the creature is incapacitated and has a speed of 0. The spell ends for an affected creature if it takes any damage or if someone else uses an action to shake the creature out of its stupor.",
    saveInfo: { attribute: "Wisdom", effectOnFailure: "Charmed, incapacitated, speed 0." },
    conditionsApplied: ["Charmed", "Incapacitated"],
    tags: ["Control", "AoE", "Illusion", "Debuff", "Concentration"],
    source: "Player's Handbook"
  },
  "Fly": {
    name: "Fly",
    category: "Spell",
    level: 3,
    school: "Transmutation",
    castingTime: "1 Action",
    range: "Touch",
    components: ["V", "S", "M (a wing feather from any bird)"],
    duration: "Concentration, up to 10 minutes",
    summary: "You touch a willing creature. The target gains a flying speed of 60 feet for the duration. When the spell ends, the target falls if it is still aloft, unless it can stop the fall.",
    effects: ["Target gains flying speed of 60 feet."],
    rules: ["Can target more creatures with higher-level slots (+1 creature per slot level above 3rd)."],
    tags: ["Utility", "Movement", "Buff", "Concentration"],
    source: "Player's Handbook"
  },
  "Greater Invisibility": {
    name: "Greater Invisibility",
    category: "Spell",
    level: 4,
    school: "Illusion",
    castingTime: "1 Action",
    range: "Touch",
    components: ["V", "S"],
    duration: "Concentration, up to 1 minute",
    summary: "You or a creature you touch becomes invisible until the spell ends. Anything the target is wearing or carrying is invisible as long as it is on the target’s person. The spell ends for a target that attacks or casts a spell.",
    effects: ["Target becomes invisible. Invisibility does not end if the target attacks or casts spells."],
    conditionsApplied: ["Invisible"],
    tags: ["Utility", "Stealth", "Buff", "Concentration"],
    source: "Player's Handbook"
  },
  "Wall of Force": {
    name: "Wall of Force",
    category: "Spell",
    level: 5,
    school: "Evocation",
    castingTime: "1 Action",
    range: "120 feet",
    components: ["V", "S", "M (a pinch of powder made from a crushed clear gemstone)"],
    duration: "Concentration, up to 10 minutes",
    summary: "An invisible wall of force springs into existence at a point you choose within range. The wall appears in any orientation you choose, as a horizontal or vertical barrier or at an angle. It can be free floating or resting on a solid surface. You can form it into a hemispherical dome or a sphere with a radius of up to 10 feet, or you can shape a flat surface made up of ten 10-foot-by-10-foot panels. Each panel must be contiguous with another panel. In any form, the wall is 1/4 inch thick. It lasts for the duration. If the wall cuts through a creature’s space when it appears, the creature is pushed to one side of the wall (your choice which side). Nothing can physically pass through the wall. It is immune to all damage and can’t be dispelled by dispel magic. A disintegrate spell destroys the wall instantly, however. The wall also extends into the Ethereal Plane, blocking ethereal travel through the wall.",
    effects: ["Creates an invisible, impenetrable wall."],
    tags: ["Control", "AoE", "Defense", "Concentration"],
    source: "Player's Handbook"
  },
  "Telekinesis": {
    name: "Telekinesis",
    category: "Spell",
    level: 5,
    school: "Transmutation",
    castingTime: "1 Action",
    range: "60 feet",
    components: ["V", "S"],
    duration: "Concentration, up to 10 minutes",
    summary: "You gain the ability to move or manipulate creatures or objects by thought. When you cast the spell, and as your action on each turn for the duration, you can exert your will on one creature or object that you can see within range, causing the appropriate effect below. You can affect the same target round after round, or choose a new one at any time. If you switch targets, the prior target is no longer affected by the spell. Creature: You can try to move a Huge or smaller creature. Object: You can try to move an object that weighs up to 1,000 pounds.",
    effects: ["Move/manipulate creatures (Huge or smaller, contested check) or objects (up to 1000 lbs)."],
    tags: ["Control", "Utility", "Concentration"],
    source: "Player's Handbook"
  },
   "Animate Objects": {
    name: "Animate Objects",
    category: "Spell",
    level: 5,
    school: "Transmutation",
    castingTime: "1 Action",
    range: "120 feet",
    components: ["V", "S"],
    duration: "Concentration, up to 1 minute",
    summary: "Objects come to life at your command. Choose up to ten nonmagical objects within range that are not being worn or carried. Medium targets count as two objects, Large targets count as four objects, Huge targets count as eight objects. You can’t animate any object larger than Huge. Each target animates and becomes a creature under your control until the spell ends or until reduced to 0 hit points. As a bonus action, you can mentally command any creature you made with this spell if the creature is within 500 feet of you. You decide what action the creature will take and where it will move during its next turn, or you can issue a general command, such as to guard a particular chamber or corridor. If you issue no commands, the creature only defends itself against hostile creatures. Once given an order, the creature continues to follow it until its task is complete.",
    effects: ["Animates up to 10 objects to fight for you."],
    rules: ["See spell description for animated object statistics based on size."],
    tags: ["Summoning", "Damage", "Control", "Concentration"],
    source: "Player's Handbook"
  },
  "Bigby's Hand": {
    name: "Bigby's Hand",
    category: "Spell",
    level: 5,
    school: "Evocation",
    castingTime: "1 Action",
    range: "120 feet",
    components: ["V", "S", "M (an eggshell and a snakeskin glove)"],
    duration: "Concentration, up to 1 minute",
    summary: "You create a Large hand of shimmering, translucent force in an unoccupied space that you can see within range. The hand lasts for the spell’s duration, and it moves at your command, mimicking the movements of your own hand. The hand is an object that has AC 20 and hit points equal to your hit point maximum. If it drops to 0 hit points, the spell ends. It has a Strength of 26 (+8) and a Dexterity of 10 (+0). The hand doesn’t fill its space. When you cast the spell and as a bonus action on your subsequent turns, you can move the hand up to 60 feet and then cause one of the following effects with it: Clenched Fist, Forceful Hand, Grasping Hand, Interposing Hand.",
    effects: ["Creates a Large magical hand with various actions (attack, push, grapple, provide cover)."],
    tags: ["Control", "Damage", "Utility", "Concentration", "Summoning (Minor)"],
    source: "Player's Handbook"
  },
  "Disintegrate": {
    name: "Disintegrate",
    category: "Spell",
    level: 6,
    school: "Transmutation",
    castingTime: "1 Action",
    range: "60 feet",
    components: ["V", "S", "M (a lodestone and a pinch of dust)"],
    duration: "Instantaneous",
    summary: "A thin green ray springs from your pointing finger to a target that you can see within range. The target can be a creature, an object, or a creation of magical force, such as the wall created by wall of force. A creature targeted by this spell must make a Dexterity saving throw. On a failed save, the target takes 10d6 + 40 force damage. If this damage reduces the target to 0 hit points, it is disintegrated. An object or creation of magical force is automatically disintegrated if targeted.",
    damage: [{ dice: "10d6 + 40", type: "Force" }],
    saveInfo: { attribute: "Dexterity", effectOnFailure: "Takes full damage; disintegrated if HP reduced to 0.", effectOnSuccess: "No damage." },
    effects: ["Disintegrates target if damage reduces it to 0 HP."],
    rules: ["Damage increases by 3d6 for each slot level above 6th."],
    tags: ["Damage", "Force Damage", "Single Target", "Saving Throw", "Disintegration"],
    source: "Player's Handbook"
  },
  "Contingency": {
    name: "Contingency",
    category: "Spell",
    level: 6,
    school: "Evocation",
    castingTime: "10 minutes",
    range: "Self",
    components: ["V", "S", "M (a statuette of yourself carved from ivory and decorated with gems worth at least 1,500 gp, which the spell consumes)"],
    duration: "10 days",
    summary: "Choose a spell of 5th level or lower that you can cast, that has a casting time of 1 action, and that can target you. You cast that spell—called the contingent spell—as part of casting contingency, expending spell slots for both, but the contingent spell doesn’t come into effect. Instead, it takes effect when a certain circumstance occurs. You describe that circumstance when you cast the two spells. The contingent spell takes effect immediately after the circumstance is met for the first time, whether or not you want it to, and then contingency ends.",
    effects: ["Sets up a condition for another spell (5th level or lower, 1 action, self-target) to trigger automatically."],
    rules: ["Consumes 1500gp statuette."],
    tags: ["Utility", "Defense", "Buff", "Costly Component"],
    source: "Player's Handbook"
  },
  "Globe of Invulnerability": {
    name: "Globe of Invulnerability",
    category: "Spell",
    level: 6,
    school: "Abjuration",
    castingTime: "1 Action",
    range: "Self (10-foot radius)",
    area: "10-foot-radius sphere",
    components: ["V", "S", "M (a glass or crystal bead that shatters when the spell ends)"],
    duration: "Concentration, up to 1 minute",
    summary: "An immobile, faintly shimmering barrier springs into existence in a 10-foot radius around you and remains for the duration. Any spell of 5th level or lower cast from outside the barrier can’t affect creatures or objects within it, even if the spell is cast using a higher level spell slot. Such a spell can target creatures and objects within the barrier, but the spell has no effect on them. Similarly, the area within the barrier is excluded from the areas affected by such spells. Spells of 6th level or higher can pass through.",
    effects: ["Creates a barrier immune to spells of 5th level or lower from outside."],
    tags: ["Defense", "AoE", "Anti-Magic", "Concentration"],
    source: "Player's Handbook"
  },
  "Mass Suggestion": {
    name: "Mass Suggestion",
    category: "Spell",
    level: 6,
    school: "Enchantment",
    castingTime: "1 Action",
    range: "60 feet",
    components: ["V", "M (a snake's tongue and either a bit of honeycomb or a drop of sweet oil)"],
    duration: "24 hours (or 1 year if cast with 9th-level slot)",
    summary: "You suggest a course of activity (limited to a sentence or two) and magically influence up to twelve creatures of your choice that you can see within range and that can hear and understand you. Creatures that can’t be charmed are immune to this effect. The suggestion must be worded in such a manner as to make the course of action sound reasonable. Asking the creature to stab itself, throw itself onto a spear, immolate itself, or do some other obviously harmful act ends the spell. Each target must make a Wisdom saving throw. On a failed save, it pursues the course of action you described to the best of its ability. The suggested course of action can continue for the entire duration. If the suggested activity can be completed in a shorter time, the spell ends when the subject finishes what it was asked to do. You can also specify conditions that will trigger a special activity during the duration. If the condition isn’t met before the spell expires, the activity isn’t performed.",
    saveInfo: { attribute: "Wisdom", effectOnFailure: "Follows suggested course of action." },
    effects: ["Influences up to 12 creatures to follow a suggestion."],
    rules: ["Duration becomes 1 year if cast with a 9th-level slot. Ends if suggestion is completed or is obviously harmful."],
    tags: ["Control", "AoE", "Enchantment", "Social Interaction"],
    source: "Player's Handbook"
  },
  "Forcecage": {
    name: "Forcecage",
    category: "Spell",
    level: 7,
    school: "Evocation",
    castingTime: "1 Action",
    range: "100 feet",
    components: ["V", "S", "M (ruby dust worth 1,500 gp)"],
    duration: "1 hour",
    summary: "An immobile, invisible, cube-shaped prison composed of magical force springs into existence around an area you choose within range. The prison can be a cage or a solid box, as you choose. A prison in the shape of a cage can be up to 20 feet on a side and is made from 1/2-inch diameter bars spaced 1/2 inch apart. A prison in the shape of a box can be up to 10 feet on a side, creating a solid barrier that prevents any matter from passing through it and blocking any spells cast into or out of the area. A creature inside the cage can’t leave it by nonmagical means. If the creature tries to use teleportation or interplanar travel to leave the cage, it must first make a Charisma saving throw. On a failed save, the creature wastes the action or spell but remains in the cage. On a successful save, the creature can leave the cage. The prison is immune to all damage, and spells and other magical effects can’t pass through it.",
    saveInfo: { attribute: "Charisma", dc: "Your spell save DC", effectOnFailure: "Teleport/interplanar travel fails.", effectOnSuccess: "Can leave cage via teleport/interplanar travel." },
    effects: ["Traps creatures in an immobile, invisible prison."],
    tags: ["Control", "AoE", "Evocation", "Costly Component (non-consumable typically)"],
    source: "Player's Handbook"
  },
  "Maze": {
    name: "Maze",
    category: "Spell",
    level: 8,
    school: "Conjuration",
    castingTime: "1 Action",
    range: "60 feet",
    components: ["V", "S"],
    duration: "Concentration, up to 10 minutes",
    summary: "You banish a creature that you can see within range into a labyrinthine demiplane. The target remains there for the duration or until it escapes the maze. The target can use its action to attempt to escape. When it does so, it makes a DC 20 Intelligence check. If it succeeds, it escapes, and the spell ends. When the spell ends, the target reappears in the space it left or, if that space is occupied, in the nearest unoccupied space.",
    effects: ["Banishes target to a demiplane maze."],
    rules: ["Target makes DC 20 Intelligence check as an action to escape."],
    tags: ["Control", "Banishment", "Single Target", "Concentration"],
    source: "Player's Handbook"
  },
  "Meteor Swarm": {
    name: "Meteor Swarm",
    category: "Spell",
    level: 9,
    school: "Evocation",
    castingTime: "1 Action",
    range: "1 mile",
    area: "Four 40-foot-radius spheres",
    components: ["V", "S"],
    duration: "Instantaneous",
    summary: "Blazing orbs of fire plummet to the ground at four different points you can see within range. Each creature in a 40-foot-radius sphere centered on each point you choose must make a Dexterity saving throw. The sphere spreads around corners. A creature takes 20d6 fire damage and 20d6 bludgeoning damage on a failed save, or half as much damage on a successful one. A creature in the area of more than one fiery burst is affected only once.",
    damage: [{ dice: "20d6", type: "Fire" }, { dice: "20d6", type: "Bludgeoning", notes: "half on save" }],
    saveInfo: { attribute: "Dexterity", effectOnSuccess: "Half damage.", effectOnFailure: "Full damage." },
    tags: ["Damage", "AoE", "Fire Damage", "Bludgeoning Damage", "Saving Throw"],
    source: "Player's Handbook"
  },
  "True Polymorph": {
    name: "True Polymorph",
    category: "Spell",
    level: 9,
    school: "Transmutation",
    castingTime: "1 Action",
    range: "30 feet",
    components: ["V", "S", "M (a drop of mercury, a dollop of gum arabic, and a wisp of smoke)"],
    duration: "Concentration, up to 1 hour",
    summary: "Choose one creature or nonmagical object that you can see within range. You transform the creature into a different creature, the creature into an object, or the object into a creature (the object must be neither worn nor carried by another creature). The transformation lasts for the duration, or until the target drops to 0 hit points or dies. If you concentrate on this spell for the full duration, the transformation becomes permanent.",
    effects: ["Transforms creature to another creature, creature to object, or object to creature. Can become permanent."],
    rules: ["See spell description for detailed rules on creature/object forms and CR limits."],
    tags: ["Control", "Utility", "Transformation", "Concentration", "Permanent Effect"],
    source: "Player's Handbook"
  },
  "Wish": {
    name: "Wish",
    category: "Spell",
    level: 9,
    school: "Conjuration",
    castingTime: "1 Action",
    range: "Self",
    components: ["V"],
    duration: "Instantaneous",
    summary: "Wish is the mightiest spell a mortal creature can cast. By simply speaking aloud, you can alter the very foundations of reality in accord with your desires. The basic use of this spell is to duplicate any other spell of 8th level or lower. You don’t need to meet any requirements in that spell, including costly components. The spell simply takes effect. Alternatively, you can create one of the following effects of your choice: (various powerful, reality-bending effects listed in spell description). You might be able to achieve something beyond the scope of the above examples. State your wish to the DM as precisely as possible. The DM has great latitude in ruling what occurs in such an instance; the greater the wish, the greater the likelihood that something goes wrong. This spell might simply fail, the effect you desire might only be partly achieved, or you might suffer some unforeseen consequence as a result of how you worded the wish. For example, wishing that a villain were dead might propel you forward in time to a period when that villain is no longer alive, effectively removing you from the game. Similarly, wishing for a legendary magic item or artifact might instantly transport you to the presence of the item’s current owner. The stress of casting this spell to produce any effect other than duplicating another spell weakens you.",
    effects: ["Duplicates any spell of 8th level or lower, or creates other powerful, reality-altering effects (DM discretion)."],
    rules: ["Stressful casting (for non-duplication uses) can cause adverse effects like inability to cast Wish again or taking necrotic damage."],
    tags: ["Ultimate Utility", "Reality Warping", "Spell Duplication", "High Risk/Reward"],
    source: "Player's Handbook"
  },
  "Foresight": {
    name: "Foresight",
    category: "Spell",
    level: 9,
    school: "Divination",
    castingTime: "1 minute",
    range: "Touch",
    components: ["V", "S", "M (a hummingbird feather)"],
    duration: "8 hours",
    summary: "You touch a willing creature and bestow a limited ability to see into the immediate future. For the duration, the target can’t be surprised and has advantage on attack rolls, ability checks, and saving throws. Additionally, other creatures have disadvantage on attack rolls against the target for the duration. This spell immediately ends if you cast it again before its duration ends.",
    effects: ["Target can't be surprised.", "Target has advantage on attacks, checks, and saves.", "Attackers have disadvantage against target."],
    tags: ["Buff", "Defense", "Offense", "Utility", "No Concentration"],
    source: "Player's Handbook"
  },

  // New Paladin Spells
  "Compelled Duel": {
    name: "Compelled Duel",
    category: "Spell",
    level: 1,
    school: "Enchantment",
    castingTime: "1 Bonus Action",
    range: "30 feet",
    components: ["V"],
    duration: "Concentration, up to 1 minute",
    summary: "You attempt to compel a creature into a duel. One creature that you can see within range must make a Wisdom saving throw. On a failed save, the creature is drawn to you, compelled by your divine demand. For the duration, it has disadvantage on attack rolls against creatures other than you, and must make a Wisdom saving throw each time it attempts to move to a space that is more than 30 feet away from you; if it succeeds on this saving throw, this spell doesn’t restrict the target’s movement for that turn.",
    saveInfo: { attribute: "Wisdom", effectOnFailure: "Disadvantage on attacks vs others; must save to move >30ft away." },
    tags: ["Control", "Single Target", "Debuff", "Concentration", "Bonus Action"],
    source: "Player's Handbook"
  },
  "Searing Smite": {
    name: "Searing Smite",
    category: "Spell",
    level: 1,
    school: "Evocation",
    castingTime: "1 Bonus Action",
    range: "Self",
    components: ["V"],
    duration: "Concentration, up to 1 minute",
    summary: "The next time you hit a creature with a melee weapon attack during the spell’s duration, your attack deals an extra 1d6 fire damage to the target and causes the target to ignite in flames. At the start of each of its turns until the spell ends, the target must make a Constitution saving throw. On a failed save, it takes 1d6 fire damage. On a successful save, the spell ends. If the target or a creature within 5 feet of it uses an action to put out the flames, or if some other effect douses the flames (such as the target being submerged in water), the spell ends.",
    damage: [{ dice: "1d6", type: "Fire", notes: "on initial hit" }, { dice: "1d6", type: "Fire", notes: "per turn on failed Con save" }],
    saveInfo: { attribute: "Constitution", effectOnSuccess: "Spell ends (for ongoing damage).", effectOnFailure: "Takes 1d6 fire damage." },
    effects: ["Ignites target, dealing ongoing fire damage."],
    rules: ["Damage increases by 1d6 for each slot level above 1st for the initial extra damage."],
    tags: ["Damage", "Fire Damage", "Bonus Action", "Concentration", "Damage Over Time"],
    source: "Player's Handbook"
  },
  "Thunderous Smite": {
    name: "Thunderous Smite",
    category: "Spell",
    level: 1,
    school: "Evocation",
    castingTime: "1 Bonus Action",
    range: "Self",
    components: ["V"],
    duration: "Concentration, up to 1 minute",
    summary: "The first time you hit with a melee weapon attack during this spell’s duration, your weapon rings with thunder that is audible within 300 feet of you, and the attack deals an extra 2d6 thunder damage to the target. Additionally, if the target is a creature, it must succeed on a Strength saving throw or be pushed 10 feet away from you and knocked prone.",
    damage: [{ dice: "2d6", type: "Thunder", notes: "on hit" }],
    saveInfo: { attribute: "Strength", effectOnFailure: "Pushed 10 feet and knocked prone." },
    effects: ["Pushes target 10ft and knocks prone on failed Str save."],
    conditionsApplied: ["Prone"],
    tags: ["Damage", "Thunder Damage", "Bonus Action", "Concentration", "Forced Movement", "Control"],
    source: "Player's Handbook"
  },
  "Wrathful Smite": {
    name: "Wrathful Smite",
    category: "Spell",
    level: 1,
    school: "Evocation",
    castingTime: "1 Bonus Action",
    range: "Self",
    components: ["V"],
    duration: "Concentration, up to 1 minute",
    summary: "The next time you hit with a melee weapon attack during this spell’s duration, your attack deals an extra 1d6 psychic damage. Additionally, if the target is a creature, it must make a Wisdom saving throw or be frightened of you until the spell ends. As an action, the creature can make a Wisdom check against your spell save DC to steel its resolve and end this spell.",
    damage: [{ dice: "1d6", type: "Psychic", notes: "on hit" }],
    saveInfo: { attribute: "Wisdom", effectOnFailure: "Frightened of you until spell ends (can use action to make Wis check to end)." },
    conditionsApplied: ["Frightened"],
    tags: ["Damage", "Psychic Damage", "Bonus Action", "Concentration", "Control", "Debuff"],
    source: "Player's Handbook"
  },
  "Protection from Evil and Good": {
    name: "Protection from Evil and Good",
    category: "Spell",
    level: 1,
    school: "Abjuration",
    castingTime: "1 Action",
    range: "Touch",
    components: ["V", "S", "M (holy water or powdered silver and iron, which the spell consumes)"],
    duration: "Concentration, up to 10 minutes",
    summary: "Until the spell ends, one willing creature you touch is protected against certain types of creatures: aberrations, celestials, elementals, fey, fiends, and undead. The protection grants several benefits. Creatures of those types have disadvantage on attack rolls against the target. The target also can’t be charmed, frightened, or possessed by them. If the target is already charmed, frightened, or possessed by such a creature, the target has advantage on any new saving throw against the relevant effect.",
    effects: ["Protected creature has disadvantage on attacks from specified creature types.", "Target can't be charmed, frightened, or possessed by them.", "Advantage on saves vs existing charm/frighten/possession from them."],
    tags: ["Defense", "Buff", "Concentration", "Anti-Extraplanar"],
    source: "Player's Handbook"
  },
  "Aid": {
    name: "Aid",
    category: "Spell",
    level: 2,
    school: "Abjuration",
    castingTime: "1 Action",
    range: "30 feet",
    components: ["V", "S", "M (a tiny strip of white cloth)"],
    duration: "8 hours",
    summary: "Your spell bolsters your allies with toughness and resolve. Choose up to three creatures within range. Each target’s hit point maximum and current hit points increase by 5 for the duration.",
    effects: ["Increases HP maximum and current HP by 5 for up to 3 creatures."],
    rules: ["HP increase by an additional 5 for each slot level above 2nd."],
    tags: ["Buff", "Healing (HP Increase)", "No Concentration"],
    source: "Player's Handbook"
  },
  "Branding Smite": {
    name: "Branding Smite",
    category: "Spell",
    level: 2,
    school: "Evocation",
    castingTime: "1 Bonus Action",
    range: "Self",
    components: ["V"],
    duration: "Concentration, up to 1 minute",
    summary: "The next time you hit a creature with a weapon attack before this spell ends, the weapon gleams with astral radiance as you strike. The attack deals an extra 2d6 radiant damage to the target, which becomes visible if it’s invisible, and the target sheds dim light in a 5-foot radius and can’t become invisible until the spell ends.",
    damage: [{ dice: "2d6", type: "Radiant", notes: "on hit" }],
    effects: ["Target becomes visible if invisible.", "Target sheds dim light (5ft) and can't become invisible."],
    rules: ["Damage increases by 1d6 for each slot level above 2nd."],
    tags: ["Damage", "Radiant Damage", "Bonus Action", "Concentration", "Anti-Invisibility", "Debuff"],
    source: "Player's Handbook"
  },
  "Find Steed": {
    name: "Find Steed",
    category: "Spell",
    level: 2,
    school: "Conjuration",
    castingTime: "10 minutes",
    range: "30 feet",
    components: ["V", "S"],
    duration: "Instantaneous",
    summary: "You summon a spirit that assumes the form of a loyal, majestic steed. Appearing in an unoccupied space within range, the steed takes on a form that you choose, such as a warhorse, a pony, a camel, an elk, or a mastiff. The steed has the statistics of the chosen form, though it is a celestial, fey, or fiend (your choice) instead of its normal type. Additionally, if your steed has an Intelligence of 5 or less, its Intelligence becomes 6, and it gains the ability to understand one language of your choice that you speak. Your steed serves you as a mount, both in combat and out, and you have an instinctive bond with it that allows you to fight as a seamless unit. While mounted on your steed, you can make any spell you cast that targets only yourself also target your steed.",
    effects: ["Summons a loyal steed (warhorse, pony, camel, elk, or mastiff stats).", "Can share self-only spells with steed."],
    tags: ["Summoning", "Utility", "Movement"],
    source: "Player's Handbook"
  },
  "Zone of Truth": {
    name: "Zone of Truth",
    category: "Spell",
    level: 2,
    school: "Enchantment",
    castingTime: "1 Action",
    range: "60 feet",
    area: "15-foot-radius sphere",
    components: ["V", "S"],
    duration: "10 minutes",
    summary: "You create a magical zone that guards against deception in a 15-foot-radius sphere centered on a point of your choice within range. Until the spell ends, a creature that enters the spell’s area for the first time on a turn or starts its turn there must make a Charisma saving throw. On a failed save, a creature can’t speak a deliberate lie while in the radius. You know whether each creature succeeds or fails on its saving throw. An affected creature is aware of the spell and can thus avoid answering questions to which it would normally respond with a lie. Such a creature can be evasive in its answers as long as it remains within the boundaries of the truth.",
    saveInfo: { attribute: "Charisma", effectOnFailure: "Cannot speak a deliberate lie while in the radius." },
    tags: ["Utility", "Social Interaction", "Control (Deception)"],
    source: "Player's Handbook"
  },
  "Aura of Vitality": {
    name: "Aura of Vitality",
    category: "Spell",
    level: 3,
    school: "Evocation",
    castingTime: "1 Action",
    range: "Self (30-foot radius)",
    components: ["V"],
    duration: "Concentration, up to 1 minute",
    summary: "Healing energy radiates from you in an aura with a 30-foot radius. Until the spell ends, the aura moves with you, centered on you. You can use a bonus action to cause one creature in the aura (including you) to regain 2d6 hit points.",
    healing: "2d6 (Bonus Action to one creature in aura)",
    tags: ["Healing", "AoE (Effect Zone)", "Bonus Action", "Concentration"],
    source: "Player's Handbook"
  },
  "Blinding Smite": {
    name: "Blinding Smite",
    category: "Spell",
    level: 3,
    school: "Evocation",
    castingTime: "1 Bonus Action",
    range: "Self",
    components: ["V"],
    duration: "Concentration, up to 1 minute",
    summary: "The next time you hit a creature with a melee weapon attack during this spell’s duration, your weapon flares with a bright light, and the attack deals an extra 3d8 radiant damage to the target. Additionally, the target must succeed on a Constitution saving throw or be blinded until the spell ends.",
    damage: [{ dice: "3d8", type: "Radiant", notes: "on hit" }],
    saveInfo: { attribute: "Constitution", effectOnFailure: "Blinded until spell ends." },
    conditionsApplied: ["Blinded"],
    tags: ["Damage", "Radiant Damage", "Bonus Action", "Concentration", "Control", "Debuff"],
    source: "Player's Handbook"
  },
  "Crusader's Mantle": {
    name: "Crusader's Mantle",
    category: "Spell",
    level: 3,
    school: "Evocation",
    castingTime: "1 Action",
    range: "Self (30-foot radius)",
    components: ["V"],
    duration: "Concentration, up to 1 minute",
    summary: "Holy power radiates from you in an aura with a 30-foot radius, awakening boldness in friendly creatures. Until the spell ends, the aura moves with you, centered on you. Each nonhostile creature in the aura (including you) deals an extra 1d4 radiant damage when it hits with a weapon attack.",
    effects: ["Allies (and self) in aura deal +1d4 radiant damage on weapon attacks."],
    tags: ["Buff", "AoE (Effect Zone)", "Damage Bonus", "Radiant Damage", "Concentration"],
    source: "Player's Handbook"
  },
  "Banishment": {
    name: "Banishment",
    category: "Spell",
    level: 4,
    school: "Abjuration",
    castingTime: "1 Action",
    range: "60 feet",
    components: ["V", "S", "M (an item distasteful to the target)"],
    duration: "Concentration, up to 1 minute",
    summary: "You attempt to send one creature that you can see within range to another plane of existence. The target must succeed on a Charisma saving throw or be banished. If the target is native to a different plane of existence than the one you’re on, the target is banished with a faint popping noise, returning to its home plane. If the spell ends before 1 minute has passed, the target reappears in the space it left or in the nearest unoccupied space if that space is occupied. Otherwise, the target doesn’t return. If the target is native to the plane of existence you’re on, you banish the target to a harmless demiplane. While there, the target is incapacitated. The target remains there until the spell ends, at which point the target reappears in the space it left or in the nearest unoccupied space if that space is occupied.",
    saveInfo: { attribute: "Charisma", effectOnFailure: "Banished." },
    effects: ["Banishes target to home plane or harmless demiplane."],
    rules: ["Can target more creatures with higher-level slots (+1 creature per slot level above 4th)."],
    tags: ["Control", "Banishment", "Single Target", "Concentration", "Debuff"],
    source: "Player's Handbook"
  },
  "Find Greater Steed": {
    name: "Find Greater Steed",
    category: "Spell",
    level: 4,
    school: "Conjuration",
    castingTime: "10 minutes",
    range: "30 feet",
    components: ["V", "S"],
    duration: "Instantaneous",
    summary: "You summon a spirit that assumes the form of a loyal, majestic steed. Appearing in an unoccupied space within range, the steed takes on a form that you choose: a griffon, a pegasus, a peryton, a dire wolf, a rhinoceros, or a saber-toothed tiger. The steed has the statistics of the chosen form, though it is a celestial, fey, or fiend (your choice) instead of its normal type. Additionally, if your steed has an Intelligence of 5 or less, its Intelligence becomes 6, and it gains the ability to understand one language of your choice that you speak. Your steed serves you as a mount, both in combat and out, and you have an instinctive bond with it that allows you to fight as a seamless unit. While mounted on your steed, you can make any spell you cast that targets only yourself also target your steed.",
    effects: ["Summons a powerful steed (griffon, pegasus, etc.).", "Can share self-only spells with steed."],
    tags: ["Summoning", "Utility", "Movement"],
    source: "Xanathar's Guide to Everything"
  },
  "Staggering Smite": {
    name: "Staggering Smite",
    category: "Spell",
    level: 4,
    school: "Evocation",
    castingTime: "1 Bonus Action",
    range: "Self",
    components: ["V"],
    duration: "Concentration, up to 1 minute",
    summary: "The next time you hit a creature with a melee weapon attack during this spell’s duration, your weapon pierces both body and mind, and the attack deals an extra 4d6 psychic damage to the target. The target must also succeed on a Wisdom saving throw or have disadvantage on attack rolls and ability checks, and can’t take reactions, until the end of its next turn.",
    damage: [{ dice: "4d6", type: "Psychic", notes: "on hit" }],
    saveInfo: { attribute: "Wisdom", effectOnFailure: "Disadvantage on attacks/checks, no reactions until end of its next turn." },
    effects: ["Imposes disadvantage and prevents reactions on failed save."],
    tags: ["Damage", "Psychic Damage", "Bonus Action", "Concentration", "Control", "Debuff"],
    source: "Player's Handbook"
  },
  "Banishing Smite": {
    name: "Banishing Smite",
    category: "Spell",
    level: 5,
    school: "Abjuration",
    castingTime: "1 Bonus Action",
    range: "Self",
    components: ["V"],
    duration: "Concentration, up to 1 minute",
    summary: "The next time you hit a creature with a weapon attack before this spell ends, your weapon crackles with force, and the attack deals an extra 5d10 force damage to the target. Additionally, if this attack reduces the target to 50 hit points or fewer, you banish it. If the target is native to a different plane of existence than the one you’re on, the target is banished with a faint popping noise, returning to its home plane. If the target is native to the plane of existence you’re on, you banish the target to a harmless demiplane. While there, the target is incapacitated. The target remains there until the spell ends.",
    damage: [{ dice: "5d10", type: "Force", notes: "on hit" }],
    effects: ["Banishes target if HP reduced to 50 or fewer."],
    tags: ["Damage", "Force Damage", "Bonus Action", "Concentration", "Banishment", "Control"],
    source: "Player's Handbook"
  },
  "Circle of Power": {
    name: "Circle of Power",
    category: "Spell",
    level: 5,
    school: "Abjuration",
    castingTime: "1 Action",
    range: "Self (30-foot radius)",
    components: ["V"],
    duration: "Concentration, up to 10 minutes",
    summary: "Divine energy radiates from you, distorting and diffusing magical energy within 30 feet of you. Until the spell ends, the sphere moves with you, centered on you. For the duration, each friendly creature in the area (including you) has advantage on saving throws against spells and other magical effects. Additionally, when an affected creature succeeds on a saving throw against a spell or other magical effect that allows it to make a saving throw to take only half damage, it instead takes no damage if it succeeds on the saving throw.",
    effects: ["Allies in aura have advantage on saves vs spells/magic.", "Allies in aura take no damage on successful save for half (Evasion-like effect)."],
    tags: ["Defense", "Buff", "AoE (Effect Zone)", "Concentration", "Anti-Magic"],
    source: "Player's Handbook"
  },
  "Destructive Wave": {
    name: "Destructive Wave",
    category: "Spell",
    level: 5,
    school: "Evocation",
    castingTime: "1 Action",
    range: "Self (30-foot radius)",
    area: "30-foot radius sphere centered on you",
    components: ["V"],
    duration: "Instantaneous",
    summary: "You strike the ground, creating a burst of divine energy that ripples outward from you. Each creature you choose within 30 feet of you must succeed on a Constitution saving throw or take 5d6 thunder damage, as well as 5d6 radiant or necrotic damage (your choice), and be knocked prone. A creature that succeeds on its saving throw takes half as much damage and isn’t knocked prone.",
    damage: [{ dice: "5d6", type: "Thunder" }, { dice: "5d6", type: "Radiant or Necrotic (caster's choice)", notes: "half on save" }],
    saveInfo: { attribute: "Constitution", effectOnSuccess: "Half damage, not prone.", effectOnFailure: "Full damage and knocked prone." },
    conditionsApplied: ["Prone"],
    tags: ["Damage", "AoE", "Thunder Damage", "Radiant Damage", "Necrotic Damage", "Control"],
    source: "Player's Handbook (Often Paladin - Tempest/Conquest Oaths)"
  },
  "Holy Weapon": {
    name: "Holy Weapon",
    category: "Spell",
    level: 5,
    school: "Evocation",
    castingTime: "1 Bonus Action",
    range: "Touch",
    components: ["V", "S"],
    duration: "Concentration, up to 1 hour",
    summary: "You imbue a weapon you touch with holy power. Until the spell ends, the weapon emits bright light in a 30-foot radius and dim light for an additional 30 feet. In addition, weapon attacks made with it deal an extra 2d8 radiant damage on a hit. If the weapon isn’t already a magic weapon, it becomes one for the duration. As a bonus action on your turn, you can dismiss this spell and cause the weapon to emit a burst of radiance. Each creature of your choice that you can see within 30 feet of you must make a Constitution saving throw. On a failed save, a creature takes 4d8 radiant damage, and it is blinded for 1 minute. On a successful save, a creature takes half as much damage and isn’t blinded. At the end of each of its turns, a blinded creature can make a Constitution saving throw, ending the effect on itself on a success.",
    damage: [{ dice: "2d8", type: "Radiant", notes: "extra on weapon attacks" }],
    effects: ["Weapon becomes magical, sheds light.", "Can dismiss for AoE 4d8 radiant damage & blindness (Con save)."],
    tags: ["Buff", "Damage Bonus", "Radiant Damage", "Light", "Bonus Action", "Concentration", "AoE (Dismissal)"],
    source: "Xanathar's Guide to Everything"
  },
  "Raise Dead": {
    name: "Raise Dead",
    category: "Spell",
    level: 5,
    school: "Necromancy",
    castingTime: "1 hour",
    range: "Touch",
    components: ["V", "S", "M (a diamond worth at least 500 gp, which the spell consumes)"],
    duration: "Instantaneous",
    summary: "You return a dead creature you touch to life, provided that it has been dead no longer than 10 days. If the creature’s soul is both willing and at liberty to rejoin the body, the creature returns to life with 1 hit point. This spell also neutralizes any poisons and cures nonmagical diseases that affected the creature at the time it died. This spell doesn’t, however, remove magical diseases, curses, or similar effects; if these aren’t first removed prior to casting the spell, they afflict the target on its return to life. The spell can’t return an undead creature to life. This spell closes all mortal wounds, but it doesn’t restore missing body parts. Coming back from the dead is an ordeal. The target takes a -4 penalty to all attack rolls, saving throws, and ability checks. Every time the target finishes a long rest, the penalty is reduced by 1 until it disappears.",
    healing: "Returns creature to life with 1 HP.",
    effects: ["Neutralizes poisons and nonmagical diseases.", "Target suffers -4 penalty to rolls, reducing by 1 per long rest."],
    rules: ["Target dead no more than 10 days.", "Consumes 500gp diamond.", "Doesn't restore missing body parts."],
    tags: ["Healing", "Resurrection", "Costly Component", "Debuff (temporary)"],
    source: "Player's Handbook"
  },

  // General Utility Spells
  "Detect Magic": {
    name: "Detect Magic",
    category: "Spell",
    level: 1,
    school: "Divination",
    castingTime: "1 Action (Ritual)",
    range: "Self",
    area: "30-foot radius sphere centered on you",
    components: ["V", "S"],
    duration: "Concentration, up to 10 minutes",
    summary: "For the duration, you sense the presence of magic within 30 feet of you. If you sense magic in this way, you can use your action to see a faint aura around any visible creature or object in the area that bears magic, and you learn its school of magic, if any. The spell can penetrate most barriers, but it is blocked by 1 foot of stone, 1 inch of common metal, a thin sheet of lead, or 3 feet of wood or dirt.",
    effects: ["Sense presence of magic within 30ft.", "Action to see aura and learn school of magic."],
    tags: ["Utility", "Divination", "Ritual", "Concentration", "Detection"],
    source: "Player's Handbook"
  },
  "Dispel Magic": {
    name: "Dispel Magic",
    category: "Spell",
    level: 3,
    school: "Abjuration",
    castingTime: "1 Action",
    range: "120 feet",
    components: ["V", "S"],
    duration: "Instantaneous",
    summary: "Choose one creature, object, or magical effect within range. Any spell of 3rd level or lower on the target ends. For each spell of 4th level or higher on the target, make an ability check using your spellcasting ability. The DC equals 10 + the spell’s level. On a successful check, the spell ends.",
    effects: ["Ends spells of 3rd level or lower.", "Requires ability check (DC 10 + spell's level) to end higher level spells."],
    rules: ["When cast using a spell slot of 4th level or higher, automatically ends spells of level equal to or less than the slot used."],
    tags: ["Utility", "Abjuration", "Anti-Magic", "Negate Spell"],
    source: "Player's Handbook"
  },
  "Remove Curse": {
    name: "Remove Curse",
    category: "Spell",
    level: 3,
    school: "Abjuration",
    castingTime: "1 Action",
    range: "Touch",
    components: ["V", "S"],
    duration: "Instantaneous",
    summary: "At your touch, all curses affecting one creature or object end. If the object is a cursed magic item, its curse remains, but the spell breaks its owner’s attunement to the object so it can be removed or discarded.",
    effects: ["Ends all curses on one creature or object.", "Breaks attunement to cursed magic items."],
    tags: ["Utility", "Abjuration", "Condition Removal"],
    source: "Player's Handbook"
  },
  "See Invisibility": {
    name: "See Invisibility",
    category: "Spell",
    level: 2,
    school: "Divination",
    castingTime: "1 Action",
    range: "Self",
    components: ["V", "S", "M (a pinch of talc and a small sprinkling of powdered silver)"],
    duration: "1 hour",
    summary: "For the duration, you see invisible creatures and objects as if they were visible, and you can see into the Ethereal Plane. Ethereal creatures and objects appear ghostly and translucent.",
    effects: ["See invisible creatures/objects.", "See into Ethereal Plane."],
    tags: ["Utility", "Divination", "Detection", "Anti-Invisibility"],
    source: "Player's Handbook"
  }
};
